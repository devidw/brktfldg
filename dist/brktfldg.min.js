!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.brktfldg=t():e.brktfldg=t()}(self,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e){const t=[];if(!e.hasChildNodes())return t;for(const o of e.childNodes)if(o.nodeType===Node.TEXT_NODE){let e=o.nodeValue;const n=e.match(/\(|\)/g);if(!n)continue;const r=e.length;for(const l of n){const n=r-e.length,c=e.indexOf(l),d=n+c;e=e.slice(c+1),t.push({char:l,node:o,offset:d})}}else o.nodeType===Node.ELEMENT_NODE&&t.push(...n(o));return t}function o(e){!function(e){if(e.length){e.reverse();for(const t of e){const[e,n]=t,o=document.createRange();o.setStart(e.node,e.offset),o.setEnd(n.node,n.offset+1);const r=document.createElement("brktfldg-container"),l=document.createElement("brktfldg-toggle");l.innerText="⋅⋅⋅";const c=document.createElement("brktfldg-content");o.surroundContents(c),c.parentElement.insertBefore(r,c),r.appendChild(l),r.appendChild(c),c.firstChild.nodeValue=c.firstChild.nodeValue.slice(1),c.lastChild.nodeValue=c.lastChild.nodeValue.slice(0,-1)}}}(function(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}(n(e))),function(e){e.querySelectorAll("brktfldg-container").forEach((e=>{const t=function(e){let t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}(e.querySelector("brktfldg-content").innerHTML).trim().replace(/\s+/g," ").split(" ").length;e.setAttribute("data-brktfldg-word-count",t),t<=1&&e.classList.add("brktfldg-container--short")}))}(e),function(e){e.querySelectorAll("brktfldg-toggle").forEach((e=>{const t=e.parentElement;e.addEventListener("click",(()=>{t.classList.toggle("brktfldg-container--open")}))}))}(e)}return e.r(t),e.d(t,{collapseBrackets:()=>o}),t})()));